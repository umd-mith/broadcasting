{"version":3,"file":"component---src-templates-entity-tsx-dc25b651f603ad2a28b2.js","mappings":"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","sources":["webpack://broadcasting-a-v-data/./src/templates/entity.tsx"],"sourcesContent":["import React from \"react\"\nimport { graphql, Link } from \"gatsby\"\nimport { StaticImage, GatsbyImage, getImage } from \"gatsby-plugin-image\"\nimport \"./entity.css\"\n\nimport Layout from \"../components/layout\"\n\n// ADD TYPING\nconst Entity = ({ data }: any) => {\n  const entity = data.entitiesJson\n\n  let image = (\n    <StaticImage\n      src=\"../images/missing-person.png\"\n      width={300}\n      alt=\"Unknown Image\"\n    />\n  )\n\n  let abstract: JSX.Element | undefined\n\n  if (entity.image) {\n    const img = getImage(entity.image)\n    if (img) {\n      image = <GatsbyImage image={img} alt={entity.name} />\n    }\n  }\n\n  if (entity.Description) {\n    const readMore = entity.Wikipedia_URL ?  <em>Read more at <a href={entity.Wikipedia_URL}>Wikipedia</a>...</em> : ''\n    abstract = (\n      <p>\n        {entity.Description}\n        {readMore}\n      </p>\n    )\n  }\n\n  let birth = null\n  if (entity.date_of_birth__P569_) {\n    const t = new Date(entity.date_of_birth__P569_)\n    birth = `${t.getUTCFullYear()}`\n    if (entity.place_of_birth__P19_) {\n      birth += `, ${entity.place_of_birth__P19_}`\n    }\n  }\n\n  let death = null\n  if (entity.date_of_death__P570_) {\n    const t = new Date(entity.date_of_death__P570_)\n    death = `${t.getUTCFullYear()}`\n    if (entity.place_of_death__P20_) {\n      death += `, ${entity.place_of_death__P20_}`\n    }\n  }\n\n  let inception = null\n  if (entity.inception__P571_) {\n    const t = new Date(entity.inception__P571_)\n    inception = `${t.getUTCFullYear()}`\n  }\n\n  return (\n    <Layout title={entity.Wikidata_label}>\n      <div className=\"page-cpf\">\n        <section>\n          <h1>\n            {entity.Wikidata_label}\n          </h1>\n          <div className=\"cpf\">\n            <div className=\"image\">{image}</div>\n            <div className=\"bio\">\n              <h2>{entity.Wikidata_label}</h2>\n              {abstract}\n              <p>\n                <Field label=\"Born\" value={birth} />\n                <Field label=\"Died\" value={death} />\n                <Field label=\"Inception\" value={inception} />\n              </p>\n              <p>\n                {/* <Field label=\"Alternate Names\" value={entity.altNames} /> */}\n                <Field label=\"Occupation(s)\" value={entity.occupation__P106_} />\n                <Field\n                  label=\"Field(s) of Work\"\n                  value={entity.field_of_work__P101_}\n                />\n                <Field label=\"Employer(s)\" value={entity.employer__P108_} />\n                {/* <Field label=\"Broadcast to\" value={cpf.cpfPage.broadastTo} /> */}\n                <Field label=\"Owned by\" value={entity.owned_by__P127_} />\n                <Field label=\"Website\" value={entity.official_website__P856_} />\n                <Field label=\"Associated Place(s)\" value={entity.Associated_Places} />\n                {/* <SubjectField subjects={cpf.cpfPage.subjects} /> */}\n              </p>\n              <p>\n                <OptionalLink text=\"Social Networks and Archival Context (SNAC) Record\" url={entity.SNAC_Ark_URLs} />\n                <OptionalLink text=\"Library of Congress Name Authority File (LCNAF)\" url={entity.LOC_URLs} />\n                <OptionalLink text=\"Virtual International Authority File (VIAF)\" url={entity.VIAF_URLs} />\n                <OptionalLink text=\"WorldCat Record\" url={entity.WorldCat_URLs} />\n                <OptionalLink text=\"National Archives and Records Administration (NARA)\" url={entity.NARA_URLs} />\n              </p>\n              {/* <div>\n                {relatedEpisodes}\n                {relatedDocuments}\n              </div> */}\n            </div>\n          </div>\n        </section>\n      </div>\n    </Layout>\n  )\n}\n\ntype FieldProps = {\n  label: string\n  value?: string[] | string | null\n}\n\nconst Field = ({ label, value }: FieldProps): JSX.Element | null => {\n  if (value === undefined || value === null || value.length === 0) {\n    return null\n  }\n\n  if (typeof value === \"string\") {\n    value = [value]\n  }\n\n  if (value[0].match(/^https?:/)) {\n    return (\n      <>\n        <span className=\"label\">{label}</span>: &nbsp;\n        {value.map((v: string) => (\n          <span>\n            <Link to={v}>{v}</Link>&nbsp;\n          </span>\n        ))}\n        <br />\n      </>\n    )\n  }\n\n  return (\n    <>\n      <span className=\"label\">{label}</span>: {value.join(\", \")} <br />\n    </>\n  )\n}\n\n// const SubjectField = ({subjects}) => {\n//   if (subjects) {\n//     return(\n//       <>\n//         <span className=\"label\">Associated Subject(s)</span>: &nbsp;\n//         {subjects.map((s, i) => ( \n//           <span key={`subject-${s.title}`}>\n//             {i > 0 && \", \"}\n//             <Link to={`/search/?f=subject:${s.title}`}>{s.title}</Link>\n//           </span>\n//         ))}\n//       </> \n//     )\n//   } else {\n//     return ''\n//   } \n// }\n\n// const DocumentList = docs => {\n//   if (docs.length === 0) {\n//     return \"\"\n//   }\n//   return (\n//     <div>\n//       <h2>Related Documents</h2>\n//       <ul>\n//         {docs.map(d => (\n//           <li key={d.id}>\n//             <Link to={`/document/${d.iaId}/`}>{d.title}</Link>\n//           </li>\n//         ))}\n//       </ul>\n//     </div>\n//   )\n// }\n\n// const EpisodeList = (cpfId, episodes) => {\n//   if (episodes.length === 0) {\n//     return \"\"\n//   }\n\n//   // group episode information by series as a map keyed by the series id\n//   // so that we can output a list of episodes grouped by the series they are a part of\n//   const seriesMap = new Map()\n//   for (const e of episodes) {\n//     if (!seriesMap.has(e.series.id)) {\n//       seriesMap.set(e.series.id, { title: e.series.title, episodes: [] })\n//     }\n//     seriesMap.get(e.series.id).episodes.push(e)\n//   }\n//   const seriesIds = Array.from(seriesMap.keys())\n\n//   return (\n//     <div>\n//       <h2>Related Episodes</h2>\n//       {seriesIds.map(seriesId => {\n//         const series = seriesMap.get(seriesId)\n//         return (\n//           <div key={seriesId}>\n//             <b>\n//               <Link to={`/programs/${seriesId}/`}>{series.title}</Link>\n//             </b>\n//             <ul>\n//               {series.episodes.map(e => {\n//                 let role = \"\"\n//                 for (const episode of episodes) {\n//                   const cpfRoles = joinLists(\n//                     episode.creator,\n//                     episode.contributor\n//                   )\n//                   const cpfRole = cpfRoles.find(e => e.id === cpfId)\n//                   if (cpfRole) {\n//                     role = `(${cpfRole.role})`\n//                   }\n//                 }\n//                 return (\n//                   <li key={e.id}>\n//                     <Link to={`/episode/${e.aapbId}/`}>{e.title}</Link> {role}\n//                   </li>\n//                 )\n//               })}\n//             </ul>\n//             <br />\n//           </div>\n//         )\n//       })}\n//     </div>\n//   )\n// }\n\nconst OptionalLink = ({text, url}: {text: string, url: string[] | string}): JSX.Element | null => {\n  if (Array.isArray(url) && url.length > 1) {\n    return (\n      <>\n        {url.map((u, i) => (\n          <div key={`url-${u}`}><a href={u}>{text} {i + 1}</a></div>\n        ))}\n      </>\n    )\n  } else if (url) {\n    return <><a href={url as string}>{text}</a><br /></>\n  } else {\n    return null\n  } \n}\n\n// function joinLists(a, b) {\n//   if (!a) a = []\n//   if (!b) b = []\n//   return a.concat(b)\n// }\n\nexport const query = graphql`\n  query($id: String!) {\n    entitiesJson(id: { eq: $id }) {\n      id\n      Wikidata_label\n      date_of_birth__P569_\n      date_of_death__P570_\n      place_of_birth__P19_\n      place_of_death__P20_\n      Description\n      employer__P108_\n      field_of_work__P101_\n      inception__P571_\n      CPF_Pages_ID\n      NARA_URLs\n      occupation__P106_\n      owned_by__P127_\n      VIAF_URLs\n      official_website__P856_\n      Wikipedia_URL\n      WorldCat_URLs\n      SNAC_Ark_URLs\n      Associated_Places\n      LOC_URLs\n    }\n  }    \n`\n\nexport default Entity\n"],"names":["Field","label","value","length","match","className","map","v","to","join","OptionalLink","text","url","Array","isArray","u","i","key","href","abstract","entity","data","entitiesJson","image","S","src","width","alt","img","getImage","G","name","Description","readMore","Wikipedia_URL","birth","date_of_birth__P569_","Date","getUTCFullYear","place_of_birth__P19_","death","date_of_death__P570_","place_of_death__P20_","inception","inception__P571_","title","Wikidata_label","occupation__P106_","field_of_work__P101_","employer__P108_","owned_by__P127_","official_website__P856_","Associated_Places","SNAC_Ark_URLs","LOC_URLs","VIAF_URLs","WorldCat_URLs","NARA_URLs"],"sourceRoot":""}